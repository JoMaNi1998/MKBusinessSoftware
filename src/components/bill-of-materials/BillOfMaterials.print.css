@media print {
  @page {
    size: A4 portrait;
    margin: 10mm 10mm 10mm 10mm;
  }

  /* Grundlegende Print-Bereinigung */
  html, body {
    background: #fff !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* Entferne grauen Hintergrund von allen Containern */
  .bg-gray-50,
  .bg-gray-100,
  [class*="bg-gray"] {
    background: #fff !important;
  }

  /* Verstecke Browser-Header (Seiten-Titel) */
  .p-6 > h1:first-child,
  .pl-12 {
    display: none !important;
  }

  .print\:hidden { display: none !important; }
  .hidden.print\:block { display: block !important; }

  /* Verstecke alle UI-Elemente außer Druckinhalt */
  nav, header, aside, .sidebar, [role="navigation"], [role="banner"] { display: none !important; }

  /* Verstecke Sidebar und alle Navigations-Buttons */
  .fixed.top-4.left-4, .fixed.inset-0.z-40 { display: none !important; }
  button:not(.print-button), .menu-button, [data-testid*="menu"] { display: none !important; }
  .hamburger, .mobile-menu, .nav-toggle { display: none !important; }

  /* Verstecke speziell das Hamburger-Menü der Sidebar */
  .lg\:hidden button { display: none !important; }

  /* Entferne Web-Styles von Inputs im Druck */
  input { border: none !important; background: transparent !important; padding: 0 !important; }

  /* Sichere klare Tabellenrahmen */
  table, th, td { border-color: #d1d5db !important; }

  /* Verhindere Layout-Verschiebungen */
  .print\:overflow-visible { overflow: visible !important; }
  .print\:p-0 { padding: 0 !important; }
  .print\:m-0 { margin: 0 !important; }

  /* KRITISCH: Alle Container auf auto Höhe setzen für mehrseitigen Druck */
  .h-full,
  .flex-1,
  .overflow-auto,
  .overflow-hidden {
    height: auto !important;
    max-height: none !important;
    overflow: visible !important;
    flex: none !important;
  }

  /* Flex-Container im Druck auf Block umstellen */
  .flex.flex-col {
    display: block !important;
  }

  /* Entferne Hintergrund und Schatten von Containern (außer print:bg-*) */
  .bg-white:not(.print\:bg-gray-100),
  .rounded-lg,
  .shadow {
    background: transparent !important;
    box-shadow: none !important;
    border-radius: 0 !important;
  }

  /* Behalte Hintergrund für Tabellen-Header und Titel */
  .print\:bg-gray-100 {
    background: #f3f4f6 !important;
  }

  /* Projekt-Info Box mit Rahmen statt Hintergrund */
  .print\:border {
    border: 1px solid #d1d5db !important;
    background: #fff !important;
  }

  /* Mehrseitiger Druck - Tabellen-Zeilen nicht umbrechen */
  .print-table tr {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* Tabellen-Header auf jeder Seite wiederholen */
  .print-table thead {
    display: table-header-group;
  }

  /* Tabellen-Body darf umbrechen */
  .print-table tbody {
    display: table-row-group;
  }

  /* Tabellen dürfen über Seiten umbrechen */
  .print-table {
    page-break-inside: auto;
  }

  /* Tabellen-Container mit Rahmen im Druck */
  .print\:border-gray-300 {
    border: 1px solid #d1d5db !important;
  }

  /* Nur Tabellen-Zellen mit Rahmen */
  table {
    border-collapse: collapse !important;
  }
  th, td {
    border-bottom: 1px solid #d1d5db !important;
  }
}
